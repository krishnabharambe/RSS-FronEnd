(this.webpackJsonphsa=this.webpackJsonphsa||[]).push([[0],{153:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(29),c=n.n(o),i=n(8),s=n(14),l=n(1);function j(){return Object(l.jsx)("div",{children:"Home.tsx"})}var d=n(198),u=n(192),h=n(193),b=n(200),x=n(202),g=n(205),m=n(197),O=n(199),p=n(108),f=n(196);function v(){return Object(l.jsx)("div",{children:Object(l.jsxs)(O.a,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(l.jsx)(b.a,{color:"inherit",href:"https://mui.com/",children:"Test Website"})," ",(new Date).getFullYear(),"."]})})}var S=n(201),y=n(203),w=n(204),P=n(36),k=n.n(P),I=n.p+"static/media/HSA-logo.97291a72.svg",V=n(206),F=n(26),T=n(28),z=n.n(T),E=n(49),C=n(50),R=n.n(C),W=n(69),A=Object(W.b)({name:"user",initialState:{userInfo:{id:0,phone:"",first_login:!1},pending:!1,error:!1,OtpSent:!1,otpSentError:"",otpValidation:!1,otpValidationError:"",regValidation:!1,registrationError:"",isAuth:!1,authFailureMsg:""},reducers:{startValidatingPhone:function(e){e.pending=!0},updateUserInfo:function(e,t){e.pending=!1,e.userInfo=t.payload},phonevalidatedOtpSent:function(e){e.OtpSent=!0},validationfailure:function(e){e.pending=!1,e.error=!0,e.otpSentError="Something Went Wrong or you are already registered. Please try again later."},otpValidationfailure:function(e){e.pending=!1,e.otpValidationError="Please enter correct OTP."},phonevalidatedOtpValidation:function(e){e.otpValidation=!0},registerValidationError:function(e){e.pending=!1,e.registrationError="Please enter password"},registerValidation:function(e){e.regValidation=!0},loginSuccess:function(e){e.isAuth=!0},loginFailure:function(e){e.authFailureMsg="Mobile no. or password is wrong."},loginFailure2:function(e){e.authFailureMsg="Invalid Token"}}}),L=A.actions,q=L.startValidatingPhone,M=L.phonevalidatedOtpSent,G=L.otpValidationfailure,N=L.phonevalidatedOtpValidation,U=L.validationfailure,B=L.registerValidation,D=L.registerValidationError,H=L.loginFailure,_=L.loginSuccess,J=L.updateUserInfo,$=L.loginFailure2,Y=A.reducer,K=function(){var e=Object(E.a)(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(q()),e.prev=1,e.next=4,R.a.post("http://127.0.0.1:8000/api/ValidatePhone/",{phone:t});case 4:r=e.sent,console.log(r.data),console.log(r.data.status),r.data.status?n(M()):n(U()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(U());case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(E.a)(z.a.mark((function e(t,n,r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(q()),e.prev=1,e.next=4,R.a.post("http://127.0.0.1:8000/api/ValidateOTP/",{phone:t,otp:n});case 4:e.sent.data.status?r(N()):r(G()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(G());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),X=function(){var e=Object(E.a)(z.a.mark((function e(t,n,r){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(q()),e.prev=1,e.next=4,R.a.post("http://127.0.0.1:8000/api/register/",{phone:t,password:n});case 4:a=e.sent,console.log(a.data),a.data.status?(r(B()),Z(t,n,r)):r(D()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(D()),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Z=function(){var e=Object(E.a)(z.a.mark((function e(t,n,r){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(q()),e.prev=1,e.next=4,R.a.post("http://127.0.0.1:8000/api/login/",{phone:t,password:n});case 4:a=e.sent,console.log(a.data),a.data.token?(localStorage.setItem("Token",a.data.token),r(_()),ee(a.data.token,r)):r(H()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(H()),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=function(){var e=Object(E.a)(z.a.mark((function e(t,n){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(q()),e.prev=1,r=localStorage.getItem("Token"),e.next=5,R.a.get("http://127.0.0.1:8000/api/userAPI/",{headers:{Authorization:"token ".concat(r)}});case 5:a=e.sent,console.log(a.data),a.data.id?(n(J({id:a.data.id,phone:a.data.phone,first_login:a.data.first_login})),n(_())):n($()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),n($()),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),te=Object(p.a)();function ne(){var e=r.useState(""),t=Object(i.a)(e,2),n=t[0],a=t[1],o=r.useState(""),c=Object(i.a)(o,2),j=c[0],p=c[1],P=r.useState(""),T=Object(i.a)(P,2),z=T[0],E=T[1],C=Object(F.b)(),R=Object(F.c)((function(e){return e.user}));return Object(l.jsx)("div",{children:R.isAuth?Object(l.jsxs)("div",{children:[" ",Object(l.jsx)(s.a,{to:"/"})," "]}):Object(l.jsxs)("div",{children:[Object(l.jsxs)(f.a,{theme:te,children:[Object(l.jsx)(S.a,{position:"static",children:Object(l.jsxs)(y.a,{children:[Object(l.jsx)(w.a,{color:"inherit",children:Object(l.jsx)(k.a,{})}),Object(l.jsx)(O.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Log In"}),Object(l.jsx)(b.a,{href:"/register",color:"common.white",children:"Sign Up"})]})}),Object(l.jsxs)(m.a,{container:!0,sx:{height:"100vh"},children:[Object(l.jsx)(u.a,{}),Object(l.jsx)(m.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsx)(m.a,{item:!0,xs:12,sm:8,md:5,component:x.a,elevation:6,square:!0,children:Object(l.jsxs)(g.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)(O.a,{component:"h1",variant:"h6",children:Object(l.jsx)("img",{src:I,alt:"React Logo",width:300})}),Object(l.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),console.log("Logging in user"),j)if(n){localStorage.getItem("phone");Z(n,j,C)}else E("Please enter Phone");else E("Please enter Password")},children:Object(l.jsxs)(g.a,{sx:{mt:1},children:[Object(l.jsx)(h.a,{margin:"normal",required:!0,fullWidth:!0,id:"mobileNumber",label:"Mobile Number",name:"mobileNumber",autoFocus:!0,InputProps:{startAdornment:Object(l.jsx)(V.a,{position:"start",children:"+91 "})},onChange:function(e){return a(e.target.value)}}),Object(l.jsx)(h.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return p(e.target.value)}}),R.authFailureMsg?Object(l.jsx)(O.a,{color:"red",sx:{mt:1,fontSize:14},children:R.authFailureMsg}):Object(l.jsx)("div",{children:z?Object(l.jsx)(O.a,{color:"red",sx:{mt:1,fontSize:14},children:z}):""}),Object(l.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(l.jsx)(m.a,{container:!0,marginBottom:4,children:Object(l.jsx)(m.a,{item:!0,xs:!0,children:Object(l.jsx)(b.a,{href:"/accountRecovery",variant:"body2",children:"Forgot password?"})})}),Object(l.jsx)(v,{})]})})]})})]})]})," "]})})}var re=Object(p.a)();function ae(){var e=r.useState(),t=Object(i.a)(e,2),n=t[0],a=t[1],o=r.useState(),c=Object(i.a)(o,2),j=c[0],p=c[1],P=r.useState(),I=Object(i.a)(P,2),T=I[0],z=I[1],E=r.useState(),C=Object(i.a)(E,2),R=C[0],W=C[1],A=r.useState(""),L=Object(i.a)(A,2),q=L[0],M=L[1],G=r.useState(),N=Object(i.a)(G,2),U=N[0],B=N[1],D=Object(F.b)(),H=Object(F.c)((function(e){return e.user}));return Object(l.jsx)("div",{children:H.regValidation?Object(l.jsx)(s.a,{to:"/"}):Object(l.jsx)("div",{children:H.otpValidation?Object(l.jsxs)(f.a,{theme:re,children:[Object(l.jsx)(S.a,{position:"static",children:Object(l.jsxs)(y.a,{children:[Object(l.jsx)(w.a,{color:"inherit",children:Object(l.jsx)(k.a,{})}),Object(l.jsx)(O.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Sign Up"}),Object(l.jsx)(b.a,{href:"/login",color:"common.white",children:"Log In"})]})}),Object(l.jsxs)(m.a,{container:!0,sx:{height:"100vh"},children:[Object(l.jsx)(u.a,{}),Object(l.jsx)(m.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsxs)(m.a,{item:!0,xs:12,sm:8,md:5,component:x.a,elevation:6,square:!0,children:[Object(l.jsxs)(g.a,{sx:{fontWeight:"regular",mx:3,mt:2,textAlign:"left"},children:[Object(l.jsx)(O.a,{variant:"h6",children:"Set Password"}),Object(l.jsxs)(O.a,{sx:{mt:2,fontSize:14},color:"GrayText",children:["Create/set password to access your account. Otp Verified for Mobile number +91 ",localStorage.getItem("phone")]})]}),Object(l.jsx)(g.a,{sx:{my:2,mx:3,alignItems:"center"},children:Object(l.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),console.log("Registering user"),q){var t=localStorage.getItem("phone");X(t,q,D)}else B("Please enter Password")},children:Object(l.jsxs)(g.a,{children:[Object(l.jsx)(h.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return M(e.target.value)}}),H.regValidation?Object(l.jsx)(O.a,{color:"red",sx:{mt:1,fontSize:14},children:H.registrationError}):Object(l.jsx)("div",{children:U?Object(l.jsx)(O.a,{color:"red",sx:{mt:1,fontSize:14},children:U}):""}),Object(l.jsxs)(O.a,{color:"gray",sx:{mt:1,fontSize:14},children:["By proceeding, you agree to our ",Object(l.jsx)("a",{href:"",children:"Terms of Serice"}),"  and ",Object(l.jsx)("a",{href:"",children:"Privacy & Legal Policy"})]}),Object(l.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Save and Login"}),Object(l.jsx)(v,{})]})})})]})]})]}):Object(l.jsx)("div",{children:H.OtpSent?Object(l.jsxs)(f.a,{theme:re,children:[Object(l.jsx)(S.a,{position:"static",children:Object(l.jsxs)(y.a,{children:[Object(l.jsx)(w.a,{color:"inherit",children:Object(l.jsx)(k.a,{})}),Object(l.jsx)(O.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Sign Up"}),Object(l.jsx)(b.a,{href:"/login",color:"common.white",children:"Log In"})]})}),Object(l.jsxs)(m.a,{container:!0,sx:{height:"100vh"},children:[Object(l.jsx)(u.a,{}),Object(l.jsx)(m.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsxs)(m.a,{item:!0,xs:12,sm:8,md:5,component:x.a,elevation:6,square:!0,children:[Object(l.jsxs)(g.a,{sx:{fontWeight:"regular",mx:3,mt:2,textAlign:"left"},children:[Object(l.jsx)(O.a,{variant:"h6",children:"Enter One Time Password(OTP)"}),Object(l.jsxs)(O.a,{sx:{mt:2,fontSize:14},color:"GrayText",children:["Otp has been sent to your mobile no. +91 ",localStorage.getItem("phone")]})]}),Object(l.jsx)(g.a,{sx:{my:2,mx:3,alignItems:"center"},children:Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=new RegExp("^[0-9]{4}$");if(T)if(t.test(T.toString())){var r=localStorage.getItem("phone");console.log("validating Otp",n,T),Q(r,T,D)}else W("InValid OTP. Please enter Valid OTP");else W("Please enter OTP")},children:Object(l.jsxs)(g.a,{children:[Object(l.jsx)(h.a,{margin:"normal",required:!0,fullWidth:!0,id:"otp",label:"OTP",name:"otp",autoFocus:!0,defaultValue:"",onChange:function(e){return z(e.target.value)}}),H.otpValidationError?Object(l.jsx)(O.a,{color:"red",sx:{mt:1,fontSize:14},children:H.otpValidationError}):Object(l.jsx)("div",{children:R?Object(l.jsx)(O.a,{color:"red",sx:{mt:1,fontSize:14},children:R}):""}),Object(l.jsxs)(O.a,{color:"gray",sx:{mt:1,fontSize:14},children:["By proceeding, you agree to our ",Object(l.jsx)("a",{href:"",children:"Terms of Serice"}),"  and ",Object(l.jsx)("a",{href:"",children:"Privacy & Legal Policy"})]}),Object(l.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Proceed"}),Object(l.jsx)(v,{})]})})})]})]})]}):Object(l.jsxs)(f.a,{theme:re,children:[Object(l.jsx)(S.a,{position:"static",children:Object(l.jsxs)(y.a,{children:[Object(l.jsx)(w.a,{color:"inherit",children:Object(l.jsx)(k.a,{})}),Object(l.jsx)(O.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Sign Up"}),Object(l.jsx)(b.a,{href:"/login",color:"common.white",children:"Log In"})]})}),Object(l.jsxs)(m.a,{container:!0,sx:{height:"100vh"},children:[Object(l.jsx)(u.a,{}),Object(l.jsx)(m.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsxs)(m.a,{item:!0,xs:12,sm:8,md:5,component:x.a,elevation:6,square:!0,children:[Object(l.jsxs)(g.a,{sx:{fontWeight:"regular",mx:3,mt:2,textAlign:"left"},children:[Object(l.jsx)(O.a,{variant:"h6",children:"Sign Up"}),Object(l.jsx)(O.a,{sx:{mt:2,fontSize:14},color:"GrayText",children:"Sign Up to track your orders, view ypur wish list or reorder past services."})]}),Object(l.jsx)(g.a,{sx:{my:2,mx:3,alignItems:"center"},children:Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=new RegExp("^[7-9][0-9]{9}$");n?t.test(n.toString())?(localStorage.setItem("phone",n.toString()),K(n,D),a("")):p("Please enter Validate mobile number."):p("Please enter mobile no.")},children:Object(l.jsxs)(g.a,{children:[Object(l.jsx)(h.a,{margin:"normal",required:!0,fullWidth:!0,id:"mobileNumber",label:"Mobile Number",name:"mobileNumber",autoFocus:!0,InputProps:{startAdornment:Object(l.jsx)(V.a,{position:"start",children:"+91 "})},onChange:function(e){return a(e.target.value)}}),H.otpSentError?Object(l.jsx)("div",{children:Object(l.jsx)(O.a,{color:"red",sx:{mt:1,fontSize:14},children:H.otpSentError})}):Object(l.jsxs)("div",{children:[j?Object(l.jsx)(O.a,{color:"red",sx:{mt:1,fontSize:14},children:j}):""," "]}),Object(l.jsxs)(O.a,{color:"gray",sx:{mt:1,fontSize:14},children:["By proceeding, you agree to our ",Object(l.jsx)("a",{href:"",children:"Terms of Serice"}),"  and ",Object(l.jsx)("a",{href:"",children:"Privacy & Legal Policy"})]}),Object(l.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Proceed"}),Object(l.jsx)(v,{})]})})})]})]})]})})})})}function oe(){return Object(l.jsx)("div",{children:Object(l.jsx)(g.a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:Object(l.jsx)("img",{src:I,alt:"React Logo",width:300})})})}var ce=Object(p.a)();function ie(){var e=r.useState(),t=Object(i.a)(e,2),n=(t[0],t[1]),a=r.useState(),o=Object(i.a)(a,2),c=(o[0],o[1],r.useState()),s=Object(i.a)(c,2),j=(s[0],s[1],r.useState()),p=Object(i.a)(j,2),P=(p[0],p[1],r.useState("")),I=Object(i.a)(P,2),F=(I[0],I[1],r.useState()),T=Object(i.a)(F,2);T[0],T[1];return Object(l.jsx)("div",{children:Object(l.jsxs)(f.a,{theme:ce,children:[Object(l.jsx)(S.a,{position:"static",children:Object(l.jsxs)(y.a,{children:[Object(l.jsx)(w.a,{color:"inherit",children:Object(l.jsx)(k.a,{})}),Object(l.jsx)(O.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Account Recovery"}),Object(l.jsx)(b.a,{href:"/login",color:"common.white",children:"Log In"})]})}),Object(l.jsxs)(m.a,{container:!0,sx:{height:"100vh"},children:[Object(l.jsx)(u.a,{}),Object(l.jsx)(m.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsxs)(m.a,{item:!0,xs:12,sm:8,md:5,component:x.a,elevation:6,square:!0,children:[Object(l.jsxs)(g.a,{sx:{fontWeight:"regular",mx:3,mt:2,textAlign:"left"},children:[Object(l.jsx)(O.a,{variant:"h6",children:"Forgot Password"}),Object(l.jsx)(O.a,{sx:{mt:2,fontSize:14},color:"GrayText",children:"Reset password in two quick steps"})]}),Object(l.jsx)(g.a,{sx:{my:2,mx:3,alignItems:"center"},children:Object(l.jsx)("form",{children:Object(l.jsxs)(g.a,{children:[Object(l.jsx)(h.a,{margin:"normal",required:!0,fullWidth:!0,id:"mobileNumber",label:"Mobile Number",name:"mobileNumber",autoFocus:!0,InputProps:{startAdornment:Object(l.jsx)(V.a,{position:"start",children:"+91 "})},onChange:function(e){return n(e.target.value)}}),Object(l.jsxs)(O.a,{color:"gray",sx:{mt:1,fontSize:14},children:["By proceeding, you agree to our ",Object(l.jsx)("a",{href:"",children:"Terms of Serice"}),"  and ",Object(l.jsx)("a",{href:"",children:"Privacy & Legal Policy"})]}),Object(l.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Proceed"}),Object(l.jsx)(v,{})]})})})]})]})]})})}function se(e){var t=e.children,n=Object(F.c)((function(e){return e.user}));return console.log("isAuth",n.isAuth),n.isAuth?t:Object(l.jsx)(s.a,{to:"/login"})}var le=function(){var e=Object(F.b)(),t=(Object(F.c)((function(e){return e.user})),a.a.useState(!0)),n=Object(i.a)(t,2),o=n[0],c=n[1],d=a.a.useState(!1),u=Object(i.a)(d,2),h=(u[0],u[1]);return Object(r.useEffect)((function(){var t=localStorage.getItem("Token");t?ee(t,e):(console.log("no token found"),h(!0)),setTimeout((function(){c(!1)}),3e3)}),[]),Object(l.jsx)("div",{children:o?Object(l.jsx)("div",{children:Object(l.jsx)(oe,{})}):Object(l.jsx)("div",{children:Object(l.jsxs)(s.d,{children:[Object(l.jsx)(s.b,{path:"/RSS-FronEnd",element:Object(l.jsx)(se,{children:Object(l.jsx)(j,{})})}),Object(l.jsx)(s.b,{path:"/RSS-FronEnd/login",element:Object(l.jsx)(ne,{})}),Object(l.jsx)(s.b,{path:"/RSS-FronEnd/register",element:Object(l.jsx)(ae,{})}),Object(l.jsx)(s.b,{path:"/RSS-FronEnd/accountRecovery",element:Object(l.jsx)(ie,{})})]})})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,207)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))},de=n(77),ue=Object(W.a)({reducer:{user:Y}});c.a.render(Object(l.jsx)(de.a,{children:Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(F.a,{store:ue,children:Object(l.jsx)(le,{})})})}),document.getElementById("root")),je()}},[[153,1,2]]]);
//# sourceMappingURL=main.3c04c2ee.chunk.js.map